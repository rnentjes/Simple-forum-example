<div class="page-header">
    <h3>Topics</h3>
</div>
<table class="table" id="overview">
    <thead>
    <tr>
        {if(member.superuser)}
        <th>Id</th>
        {endif}
        <th>Topic</th>
        <th>Date</th>
        <th>Started by</th>
        <th>Replies</th>
        <th>Views</th>
        <th>Last post</th>
        {if(member.superuser)}
        <th>
        </th>
        {endif}
    </tr>
    </thead>
    <tbody>
    {each(topics as topic)}
    <tr>
        {if(member.superuser)}
        <td>{topic.id}</td>
        {endif}
        <td><a href="/topic/{topic.id}" >{topic.shortTitle}</a></td>
        <td>{topic.date}</td>
        {if(topic.creator)}
        <td>{topic.creator}</td>
        {else}
        <td>anonymous</td>
        {endif}
        <td>{topic.numberOfReplies}</td>
        <td>{topic.numberOfViews}</td>
        <td>{topic.lastPost}</td>
        {if(member.superuser)}
        <td>
            <a class="btn btn-mini btn-primary" onclick="ajax('topic/{topic.id}', 'edit')">edit</a></a>
            <a class="btn btn-mini btn-primary" onclick="ajax('topic/{topic.id}', 'remove')">remove</a></a>
        </td>
        {endif}
    </tr>
    {eachend}
    </tbody>
</table>

<div class="pager">
    <ul>
        {if(controller.hasPrevious)}
        <li><a href="/overview/{controller.previousPageNumber}" >Prev</a></li>
        {endif}
        {controller.pageNumber} / {controller.numberOfPages} ({controller.numberOfResults})
        {if(controller.hasNext)}
        <li><a href="/overview/{controller.nextPageNumber}" >Next</a></li>
        {endif}
    </ul>
</div>

{if(member.escapedNickName)}
<a class="btn btn-primary" href="/topic/new" /* onclick="submit('topic', 'new')" */>New topic</a>
{endif}
